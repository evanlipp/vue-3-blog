"use strict";(self["webpackChunk"]=self["webpackChunk"]||[]).push([[406],{5394:function(e,t,a){a.d(t,{Z:function(){return i}});var o=a(9199),l={__name:"MyModal",props:{visibility:{type:Boolean,default:!1}},emits:["hideModal"],setup(e,{emit:t}){const a=()=>{t("hideModal")};return(t,l)=>e.visibility?((0,o.wg)(),(0,o.iD)("div",{key:0,class:"modal",onClick:a},[(0,o._)("div",{onClick:l[0]||(l[0]=(0,o.iM)((()=>{}),["stop"])),class:"modal__content"},[(0,o.WI)(t.$slots,"default")])])):(0,o.kq)("",!0)}},n=a(89);const u=(0,n.Z)(l,[["__scopeId","data-v-d9b9df20"]]);var i=u},2137:function(e,t,a){a.d(t,{Z:function(){return s}});var o=a(9199);const l=["value","maxlength"];var n={__name:"MyTextarea",props:{modelValue:String,charactersMaxCount:Number},emits:["update:modelValue"],setup(e,{emit:t}){const a=e=>{t("update:modelValue",e.target.value)};return(t,n)=>((0,o.wg)(),(0,o.iD)("textarea",{class:"textarea",value:e.modelValue,onInput:a,maxlength:e.charactersMaxCount},null,40,l))}},u=a(89);const i=(0,u.Z)(n,[["__scopeId","data-v-112ad556"]]);var s=i},3744:function(e,t,a){a.r(t),a.d(t,{default:function(){return z}});var o=a(9199),l=a(450),n=a(2392),u=a(4287),i=a(2483);const s=e=>((0,o.dD)("data-v-1746c341"),e=e(),(0,o.Cn)(),e),d={class:"comment"},r={class:"comment__header"},c={class:"comment__date"},m=s((()=>(0,o._)("hr",null,null,-1))),_={class:"comment__body"};var v={__name:"CommentItem",props:{comment:{type:Object}},setup(e){const t=e,a=(0,i.yj)(),s=async()=>{await(0,u.r7)((0,u.JU)(n.r,n.I.currentUser.uid,a.params.id),{comments:(0,u.Ab)(t.comment)})};return(t,a)=>((0,o.wg)(),(0,o.iD)("div",d,[(0,o._)("div",r,[(0,o._)("div",null,[(0,o._)("p",null,(0,o.zw)(e.comment.authorEmail)+" | "+(0,o.zw)(e.comment.authorName),1),(0,o._)("p",c,(0,o.zw)(e.comment.creationDate),1)]),(0,o.Wm)((0,o.SU)(l.Z),{iconName:"#close",onClick:s})]),m,(0,o._)("p",_,(0,o.zw)(e.comment.body),1)]))}},p=a(89);const y=(0,p.Z)(v,[["__scopeId","data-v-1746c341"]]);var b=y,w=a(3488),U=a(3946),h=a(2137);const k={class:"form"};var f={__name:"PostEditForm",props:{post:{type:Object,required:!0}},emits:["hideModal"],setup(e,{emit:t}){const a=e,l=(0,o.iH)({title:a.post.title,body:a.post.body}),i=async()=>{await(0,u.r7)((0,u.JU)(n.r,n.I.currentUser.uid,`${a.post.id}`),l.value),t("hideModal")};return(e,a)=>((0,o.wg)(),(0,o.iD)("div",k,[(0,o.Wm)((0,o.SU)(U.Z),{modelValue:l.value.title,"onUpdate:modelValue":a[0]||(a[0]=e=>l.value.title=e),type:"text"},null,8,["modelValue"]),(0,o.Wm)((0,o.SU)(h.Z),{modelValue:l.value.body,"onUpdate:modelValue":a[1]||(a[1]=e=>l.value.body=e),type:"text"},null,8,["modelValue"]),(0,o.Wm)((0,o.SU)(w.Z),{class:"button button__primary",onClick:i},{default:(0,o.w5)((()=>[(0,o.Uk)("Save")])),_:1}),(0,o.Wm)((0,o.SU)(w.Z),{class:"button button__primary",onClick:a[2]||(a[2]=e=>t("hideModal"))},{default:(0,o.w5)((()=>[(0,o.Uk)("Cancel")])),_:1})]))}};const g=(0,p.Z)(f,[["__scopeId","data-v-3885999b"]]);var Z=g,C=a(5394);const D={class:"post"},S={key:0,class:"post__plug"},I={key:1,class:"post__body"},M={class:"post__content"},V={class:"post__content-title"},W={key:0,class:"post__comments"};var x={__name:"PostView",setup(e){const t=(0,i.yj)(),a=(0,o.iH)(!1),l=(0,o.iH)({body:""}),s=async()=>{const e=Date.now(),a=new Date(e).toLocaleDateString("ru-RU",{hour:"numeric",minute:"numeric"}),o={id:e,authorName:n.I.currentUser.displayName,authorEmail:n.I.currentUser.email,creationDate:a,body:l.value.body};await(0,u.r7)((0,u.JU)(n.r,n.I.currentUser.uid,t.params.id),{comments:(0,u.vr)(o)}),l.value.body=""},d=(0,o.iH)([]),r=(0,o.iH)(),c=(0,u.cf)((0,u.JU)(n.r,n.I.currentUser.uid,t.params.id),(e=>{r.value=e.data(),d.value=e.data().comments}));return(0,o.Jd)((()=>c())),(e,t)=>((0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o._)("div",D,[void 0===r.value?((0,o.wg)(),(0,o.iD)("div",S,"Loading...")):((0,o.wg)(),(0,o.iD)("div",I,[(0,o._)("div",M,[(0,o._)("h1",V,(0,o.zw)(r.value.title),1),(0,o._)("p",null,(0,o.zw)(r.value.body),1)]),(0,o.Wm)((0,o.SU)(w.Z),{class:"button button__primary button__primary_wide",onClick:t[0]||(t[0]=e=>a.value=!a.value)},{default:(0,o.w5)((()=>[(0,o.Uk)("Edit ")])),_:1}),(0,o._)("div",null,[(0,o.Wm)((0,o.SU)(h.Z),{modelValue:l.value.body,"onUpdate:modelValue":t[1]||(t[1]=e=>l.value.body=e),placeholder:"Enter your comment here",charactersMaxCount:1e3},null,8,["modelValue"]),(0,o.Wm)((0,o.SU)(w.Z),{class:"button button__primary button__primary_wide",onClick:s},{default:(0,o.w5)((()=>[(0,o.Uk)("Save comment")])),_:1})]),d.value.length>0?((0,o.wg)(),(0,o.iD)("div",W,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(d.value,(e=>((0,o.wg)(),(0,o.j4)((0,o.SU)(b),{key:e.id,comment:e},null,8,["comment"])))),128))])):(0,o.kq)("",!0)]))]),(0,o.Wm)((0,o.SU)(C.Z),{visibility:a.value,onHideModal:t[3]||(t[3]=e=>a.value=!a.value)},{default:(0,o.w5)((()=>[(0,o.Wm)((0,o.SU)(Z),{post:r.value,onHideModal:t[2]||(t[2]=e=>a.value=!a.value)},null,8,["post"])])),_:1},8,["visibility"])],64))}};const H=(0,p.Z)(x,[["__scopeId","data-v-182c6dfc"]]);var z=H}}]);
//# sourceMappingURL=406.437e6298.js.map