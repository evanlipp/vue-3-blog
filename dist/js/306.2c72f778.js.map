{"version":3,"file":"js/306.2c72f778.js","mappings":"0PAkBMA,EAAYA,KAChBC,EAAK,YAAY,E,2OCbnB,MAAMC,GAA2B,OAAgB,EAAQ,CAAC,CAAC,YAAY,qBAEvE,O,sOCMMC,EAAeC,IACnBH,EAAK,oBAAqBG,EAAMC,OAAOC,MAAM,E,kJCT/C,MAAMJ,GAA2B,OAAgB,EAAQ,CAAC,CAAC,YAAY,qBAEvE,O,+PCUA,MAAMK,GAAeC,EAAAA,EAAAA,MAIfR,EAAYA,KAChBC,EAAK,YAAY,EAGbQ,GAAOD,EAAAA,EAAAA,IAAI,CACfE,MAAO,GACPC,KAAM,KAGFC,EAAaC,UACjB,GAAyB,KAArBJ,EAAKH,MAAMI,OAA4C,KAA5BD,EAAKH,MAAMI,MAAMI,OAC9CP,EAAaD,MAAQ,wBAChB,GAAwB,KAApBG,EAAKH,MAAMK,MAA0C,KAA3BF,EAAKH,MAAMK,KAAKG,OACnDP,EAAaD,MAAQ,sBAChB,CACL,MAAMS,EAAcC,KAAKC,MACnBC,EAAe,IAAIF,KAAKD,GAAaI,mBAAmB,QAAS,CAAEC,KAAM,UAAWC,OAAQ,YAE5FC,EAAU,CACdC,GAAIR,EACJL,MAAOD,EAAKH,MAAMI,MAClBC,KAAMF,EAAKH,MAAMK,KACjBO,aAAcA,EACdM,YAAaC,EAAAA,EAAKC,YAAYC,MAC9BC,SAAU,UAGNC,EAAAA,EAAAA,KAAOC,EAAAA,EAAAA,IAAIC,EAAAA,EAAUN,EAAAA,EAAKC,YAAYM,IAAM,GAAEjB,KAAgBO,EACtE,CACArB,EAAK,YAAY,E,ysBC7CnB,MAAMC,GAA2B,OAAgB,EAAQ,CAAC,CAAC,YAAY,qBAEvE,Q,kOCmBc+B,EAAAA,EAAAA,MAAd,MAEMC,GAAiB1B,EAAAA,EAAAA,KAAI,GAErB2B,EAASA,MACbC,EAAAA,EAAAA,IAAQX,EAAAA,EAAK,E,k2BC1Bf,MAAM,GAA2B,OAAgB,EAAQ,CAAC,CAAC,YAAY,qBAEvE,O","sources":["webpack:///./src/components/UI/MyModal.vue","webpack:///./src/components/UI/MyModal.vue?a8ea","webpack:///./src/components/UI/MyTextarea.vue","webpack:///./src/components/UI/MyTextarea.vue?efd6","webpack:///./src/components/NewPostForm.vue","webpack:///./src/components/NewPostForm.vue?be17","webpack:///./src/views/MainView.vue","webpack:///./src/views/MainView.vue?7ba4"],"sourcesContent":["<template>\n  <div class=\"modal\" v-if=\"visibility\" @click=\"hideModal\">\n    <div @click.stop class=\"modal__content\">\n      <slot></slot>\n    </div>\n  </div>\n</template>\n\n<script setup>\nconst props = defineProps({\n  visibility: {\n    type: Boolean,\n    default: false,\n  }\n})\n\nconst emit = defineEmits(['hideModal'])\n\nconst hideModal = () => {\n  emit('hideModal')\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.modal {\n  display: flex;\n  position: fixed;\n  padding: 0 20px;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: rgb(0, 0, 0, 0.5);\n\n  &__content {\n    margin: auto;\n    padding: 20px;\n    width: 100%;\n    max-width: 770px;\n    background: $bg-secondary;\n    border-radius: 7px;\n  }\n}\n</style>\n","import script from \"./MyModal.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./MyModal.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./MyModal.vue?vue&type=style&index=0&id=d9b9df20&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-d9b9df20\"]])\n\nexport default __exports__","<template>\n  <textarea class=\"textarea\" :value=\"modelValue\" @input=\"updateInput\" :maxlength=\"charactersMaxCount\"></textarea>\n</template>\n\n<script setup>\nimport { defineProps, defineEmits } from 'vue';\n\nconst props = defineProps({\n  modelValue: String,\n  charactersMaxCount: Number,\n})\n\nconst emit = defineEmits(['update:modelValue'])\n\nconst updateInput = (event) => {\n  emit('update:modelValue', event.target.value)\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.textarea {\n  font: inherit;\n  color: inherit;\n  width: 100%;\n  height: 140px;\n  padding: 10px 15px;\n  border: 1px solid $border-primary;\n  border-radius: 7px;\n  resize: none;\n}\n</style>","import script from \"./MyTextarea.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./MyTextarea.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./MyTextarea.vue?vue&type=style&index=0&id=112ad556&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-112ad556\"]])\n\nexport default __exports__","<template>\n  <div class=\"form\">\n    <MyInput v-model=\"post.title\" type=\"text\" placeholder=\"Post title\" :charactersMaxCount=\"80\"></MyInput>\n    <MyTextarea v-model=\"post.body\" type=\"text\" placeholder=\"Post body\"></MyTextarea>\n    <p class=\"error\" v-if=\"errorMessage\">{{ errorMessage }}</p>\n    <MyButton class=\"button button__primary\" @click=\"createPost\">Publish</MyButton>\n    <MyButton class=\"button button__primary\" @click=\"hideModal\">Cancel</MyButton>\n  </div>\n</template>\n\n<script setup>\nimport MyInput from '@/components/UI/MyInput';\nimport MyButton from '@/components/UI/MyButton';\nimport MyTextarea from '@/components/UI/MyTextarea';\nimport { ref } from 'vue';\nimport { auth, dataBase } from '@/firebase/init';\nimport { setDoc, doc } from 'firebase/firestore';\n\nconst errorMessage = ref()\n\nconst emit = defineEmits(['hideModal'])\n\nconst hideModal = () => {\n  emit('hideModal')\n}\n\nconst post = ref({\n  title: '',\n  body: ''\n})\n\nconst createPost = async () => {\n  if (post.value.title === '' || post.value.title.trim() === '') {\n    errorMessage.value = 'Enter post title';\n  } else if (post.value.body === '' || post.value.body.trim() === '') {\n    errorMessage.value = 'Enter post body';\n  } else {\n    const currentDate = Date.now()\n    const creationDate = new Date(currentDate).toLocaleDateString('ru-RU', { hour: \"numeric\", minute: \"numeric\" })\n\n    const newPost = {\n      id: currentDate,\n      title: post.value.title,\n      body: post.value.body,\n      creationDate: creationDate,\n      authorEmail: auth.currentUser.email,\n      comments: [],\n    }\n\n    await setDoc(doc(dataBase, auth.currentUser.uid, `${currentDate}`), newPost);\n  }\n  emit('hideModal')\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.form {\n  @extend %modal-form;\n}\n</style>","import script from \"./NewPostForm.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./NewPostForm.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./NewPostForm.vue?vue&type=style&index=0&id=6171a3ea&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-6171a3ea\"]])\n\nexport default __exports__","<template>\n  <div class=\"main\">\n    <div class=\"navigation\">\n      <h1 class=\"logo\">blog,</h1>\n      <router-link class=\"navigation__link\" to=\"profile\">My profile</router-link>\n      <router-link class=\"navigation__link\" to=\"posts\">My posts</router-link>\n      <MyButton class=\"button navigation__link\" @click=\"isModalVisible = !isModalVisible\">New post</MyButton>\n      <router-link class=\"navigation__link\" to=\"auth\" @click=\"logOut\">Quit</router-link>\n    </div>\n    <div class=\"content\">\n      <router-view />\n    </div>\n  </div>\n  <MyModal :visibility=\"isModalVisible\" @hideModal=\"isModalVisible = !isModalVisible\">\n    <NewPostForm @hideModal=\"isModalVisible = !isModalVisible\" />\n  </MyModal>\n</template>\n\n<script setup>\nimport MyButton from '@/components/UI/MyButton';\nimport MyModal from '@/components/UI/MyModal';\nimport NewPostForm from '@/components/NewPostForm';\nimport { signOut } from 'firebase/auth';\nimport { auth } from '@/firebase/init';\nimport { ref } from 'vue';\nimport { useStore } from 'vuex';\n\nconst store = useStore();\n\nconst isModalVisible = ref(false);\n\nconst logOut = () => {\n  signOut(auth)\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.main {\n  @extend %container;\n  height: 100vh;\n  display: flex;\n  gap: 60px;\n\n  @media (max-width: 520px) {\n    gap: 10px;\n  }\n}\n\n.navigation {\n  display: flex;\n  flex-direction: column;\n  gap: 30px;\n\n  @media (max-width: 520px) {\n    gap: 15px;\n  }\n\n  &__link {\n    font-size: 20px;\n    text-align: left;\n    letter-spacing: 2px;\n    white-space: nowrap;\n    transition: transform 100ms;\n\n    @media (max-width: 520px) {\n      font-size: 12px;\n    }\n\n    &:hover {\n      transform: scale(1.1);\n    }\n\n    &:active {\n      transform: scale(0.9);\n    }\n  }\n}\n\n.router-link-active {\n  text-decoration: underline;\n}\n\n.content {\n  height: fit-content;\n  max-height: 100%;\n  min-height: 230px;\n  width: 100%;\n  padding: 10px;\n  overflow: scroll;\n  border-radius: 7px;\n  box-shadow: 0px 0px 53px -22px rgba(1, 11, 0, 0.22);\n  background-color: $bg-secondary;\n}\n\n.logo {\n  font: $font-logo;\n\n  @media (max-width: 520px) {\n    font-size: 20px;\n  }\n}\n</style>","import script from \"./MainView.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./MainView.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./MainView.vue?vue&type=style&index=0&id=d95ccbfc&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-d95ccbfc\"]])\n\nexport default __exports__"],"names":["hideModal","emit","__exports__","updateInput","event","target","value","errorMessage","ref","post","title","body","createPost","async","trim","currentDate","Date","now","creationDate","toLocaleDateString","hour","minute","newPost","id","authorEmail","auth","currentUser","email","comments","setDoc","doc","dataBase","uid","useStore","isModalVisible","logOut","signOut"],"sourceRoot":""}